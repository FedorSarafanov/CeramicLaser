\documentclass[tikz]{standalone}

\usepackage[english,russian]{babel}
\usepackage[T2A,T1]{fontenc}
\usepackage[utf8]{inputenc}

\usepackage
    {
        tikz,
        pgfplots,
        verbatim,
    }
\usetikzlibrary
    {
        arrows,
        patterns,
        angles,
        quotes,
        calc, 
        3d,  
        backgrounds, 
        positioning
    }
\usetikzlibrary{fadings,through}
\tikzset
    {
        media/.style={font={\footnotesize\sffamily}},
        wave/.style={
            decorate,decoration={snake,post length=1.4mm,amplitude=2mm,
                segment length=1mm},thick},   
    }
\begin{document}
\begin{tikzpicture}
	\xdef\darkness{0}
	
% 	\xdef\SIZE{10}

% 	\draw[step=1.0,blue,thick] (0,0) grid (\SIZE,\SIZE);
% 	\draw[step=0.5,blue,very thin] (0,0) grid (\SIZE,\SIZE);

% 	\foreach \i in {0,1,...,\SIZE} {
%     	\draw (0,\i) node [left] {\i};
%     	\draw (\i,0) node [below] {\i};
%     }

	% Camera
    \draw [fill=white] (-3,2) rectangle ++(1.5,1);
    \coordinate (CAM1) at (-2.25,2.5);
    \draw (CAM1) node [] {$CAM$};

    % Laser
    \draw [fill=white] (8,0) rectangle (10,1);
    \coordinate (LAS1-left) at (8,0.5);
    \coordinate (LAS1) at (9,0.5);
    \draw (9,0.5) node [] {$LAS$};

    % resonator
    \draw [fill=black!\darkness] (5,0) rectangle ++(0.25,1);
    \coordinate (res-right-right) at (5.25,0.5);
    \coordinate (res-right-left) at (5,0.5);

    \draw [fill=black!\darkness] (3,0) rectangle ++(-0.25,1);
    \coordinate (res-left-left) at (2.75,0.5);
    \coordinate (res-left-right) at (3,0.5);    

    \coordinate (pol1) at (0.5,0.5);    
    \coordinate (pol2) at (0.5,2.5);    

    % forward wave
    \draw[line width=2pt,magenta] 
    	(LAS1-left) -- (res-right-right)
    	(res-right-left) -- (res-left-right)
    	(res-left-left) -- (pol1) 
    	(pol1) -- ++ (-2,0) node [left, black] {накачка}
    ;

    % flipped wave
    \draw[line width=1pt,magenta] 
    	(pol1)  -- (pol2) -- ++ (-2,0)
    ;    

    % environment 
    \draw[fill=black!30, opacity=0.5] (3.5, 0) rectangle (4.5,1);
    \coordinate (env) at (4,0.5);

    % flip
    \draw [fill=black!\darkness] (1,0) -- (0,1) -- ++(135+90:0.2) -- ++(135+90+90:{sqrt(2)}) -- cycle;

    \draw [fill=black!\darkness, yshift=2cm] (1,0) -- (0,1) -- ++(135+90-180:0.2) -- ++(135+90+90:{sqrt(2)}) -- cycle;

    %caption

    \draw (pol1) node [left, yshift=-1em] {$4a$};
    \draw (pol2) node [right, yshift=1em] {$4b$};

    \draw (res-right-right) node [ yshift=2em] {$2a$};
    \draw (res-left-left) node [ yshift=2em] {$2b$}; 

    \draw (env) node [yshift=2em] {$3$};    
    \draw (LAS1) node [yshift=2em] {$1$};    
    \draw (CAM1) node [yshift=2em] {$5$};    
\end{tikzpicture} 
\end{document}